<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIN Checker</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="flex items-center justify-center h-screen bg-gray-100">
    <!-- お問い合わせポップアップ -->
    <div id="contactModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-lg w-96 text-center">
            <h2 class="text-lg font-semibold mb-4">情報提供のお願い</h2>
            <p class="text-sm mb-4">
                お問い合わせの際には、<strong>BIN Checkerでの情報提供</strong>であることを明記したうえで、以下の情報をすべてフォームにご記入ください。
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4 text-left">
                <li>カード上6桁（BIN）</li>
                <li>国際ブランド（Visa, Mastercard など）</li>
                <li>それに対応する発行会社</li>
            </ul>
            <p class="text-sm text-gray-600 mb-4">
                フォームで収集した情報につきましてはローカルに保存せず、データベースの更新のために利用いたします。
            </p>
            <p class="text-sm text-gray-600 mb-4">
                お問い合わせいただいた情報に対して、すべてに返信できるとは限りませんので、あらかじめご了承ください。
            </p>
            <a href="https://daruks.com/Contact" target="_blank" class="bg-blue-500 text-white py-2 px-4 rounded w-full block">
                フォームを開く
            </a>
            <button onclick="closeContactModal()" class="mt-4 text-gray-500 underline">閉じる</button>
        </div>
    </div>

    <!-- プライバシーポリシーモーダル -->
    <div id="privacyModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden">
        <div class="bg-white p-6 rounded-lg shadow-lg w-96 text-center">
            <h2 class="text-lg font-semibold mb-4">プライバシーポリシー</h2>
            <p class="text-sm mb-4">
                本サイトはプライバシーポリシーが適用されています。続行するにはプライバシーポリシーに同意してください。
            </p>
            <div class="flex items-center justify-center">
                <input type="checkbox" id="agreeCheckbox" class="mr-2">
                <label for="agreeCheckbox" class="text-sm">
                    <a href="./privacy-policy/" class="text-blue-500 underline" target="_blank">プライバシーポリシー</a>に同意する
                </label>
            </div>
            <button id="agreeButton" class="bg-blue-500 text-white py-2 px-4 rounded mt-4 w-full disabled:opacity-50" disabled>
                続行
            </button>
        </div>
    </div>    

    <!-- メインコンテンツ -->
    <div class="bg-white p-6 rounded-lg shadow-lg w-96">
        <h1 class="text-xl font-semibold mb-4">カードBIN検索</h1>
        <input type="text" id="binInput" maxlength="6" class="border p-2 w-full mb-3 text-lg text-center" placeholder="6桁を入力">
        <button id="searchButton" onclick="lookupBIN()" class="bg-blue-500 text-white py-2 px-4 rounded w-full">
            検索
        </button>
        <div id="result" class="mt-4 text-center text-lg"></div>

        <!-- BINがデータベースにない場合のメッセージ -->
        <p id="contactMessageMissing" class="text-sm text-gray-500 mt-4 hidden">
            入力された情報のどちらかがデータベース上に無いようです。<br>
            今後の改善のためにもぜひ
            <a href="#" onclick="openContactModal()" class="text-blue-500 underline">こちら</a>
            より情報をご提供ください。
        </p>

        <!-- 常に表示するお問い合わせメッセージ -->
        <p id="contactMessageGeneral" class="text-sm text-gray-500 mt-4">
            もし表示されている項目とお手持ちのカードに相違がありましたら、
            <a href="#" onclick="openContactModal()" class="text-blue-500 underline">こちら</a>よりお問い合わせください。
        </p>
    </div>

    <!-- フッター -->
    <footer class="fixed bottom-0 right-0 p-2 text-gray-500 text-sm text-right bg-transparent">
        <p>This page is powered by <a href="https://github.com/" class="text-blue-500 underline">GitHub Pages</a>.</p>
        <p>© 2025 <a href="https://daruks.com/" class="text-blue-500 underline">darui3018823</a>. All rights reserved.</p>
    </footer>    

    <script src="script.js"></script> <!-- 外部JSを読み込む -->
</body>
</html>